generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model receive {
    id             Int         @id @default(autoincrement())
    sender_id      Int         
    receiver_id    Int         
    info           String
    amount         Float
    timestamp      DateTime    @default(now()) @db.Timestamp(6)
    transaction_id Int         @unique
    transaction    transaction @relation(fields: [transaction_id], references: [transaction_id], onDelete: NoAction, onUpdate: NoAction)
}

model send {
    id             Int         @id @default(autoincrement())
    sender_id      Int
    receiver_id    Int
    info           String
    amount         Float
    timestamp      DateTime    @default(now()) @db.Timestamp(6)
    transaction_id Int         @unique
    transaction    transaction @relation(fields: [transaction_id], references: [transaction_id], onDelete: NoAction, onUpdate: NoAction)
}

model transaction {
    transaction_id Int      @id @default(autoincrement())
    user_id        Int      
    timestamp      DateTime @default(now()) @db.Timestamp(6)
    status         String
    receive        receive?
    send           send?
}

model user {
    id          BigInt       @id @default(autoincrement())
    user_id     Int          @unique
    username    String
    email       String
    password    String
    budget      Float
    setting     Json         @db.Json
    created     DateTime     @default(now()) @db.Timestamp(6)
    last_update DateTime     @updatedAt @db.Timestamp(6)
}
